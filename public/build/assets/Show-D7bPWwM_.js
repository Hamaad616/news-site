import{r as S,j as e,a as t,Y as w,y}from"./app-slhvn1mM.js";import{A as B,B as d,a as l,b as c,c as L}from"./AuthenticatedLayout-D6ZcmAsz.js";import{u as z,t as E,F as k,L as I,a as h,b as x,c as j,d as p,e as u}from"./form-BKw5wqvp.js";import{z as m}from"./index-DXqQCM1T.js";import{B as a}from"./index-Du0udQaK.js";import{C as P,a as D,b as q,d as A}from"./card-D3qfIPg1.js";import{I as g}from"./input-Vqm2Qepw.js";import{C as U}from"./chevron-left-dVXDLqxh.js";import"./Combination-CS0-tLFf.js";import"./floating-ui.react-dom-BOcjZvbi.js";import"./index-BeU_ZXev.js";import"./index-BEVgagoF.js";import"./createLucideIcon-g1EfpkQ7.js";import"./dropdown-menu-BYnwMLl5.js";import"./index-BK0f2CHm.js";import"./index-CfcPtYMM.js";import"./label-CEjVMEsl.js";const se=({category:i})=>{const[f,o]=S.useState(!1),b=m.object({name:m.string().min(1,"Name is required").max(10,"Name must be 100 characters or less"),slug:m.string().min(1,"Slug is required")}),r=z({mode:"onchange",resolver:E(b),defaultValues:{name:i.name??"",slug:i.slug??"draft"}}),N=s=>{o(!0)},v=s=>{o(!1)};function C(s){y.patch(route("admin.categories.update",i.id),s,{onStart:N,onFinish:v,onError:n=>{F(n)}})}const F=s=>{Object.keys(s).forEach(n=>{r.setError(n,{message:s[n]})})};return e.jsxs(B,{header:e.jsxs(e.Fragment,{children:[e.jsx(d,{children:e.jsx(l,{asChild:!0,children:e.jsx(t,{href:route("admin.dashboard"),children:"Dashboard"})})}),e.jsx(c,{}),e.jsx(d,{children:e.jsx(l,{asChild:!0,children:e.jsx(t,{href:route("admin.categories"),children:"Categories"})})}),e.jsx(c,{}),e.jsx(d,{children:e.jsx(L,{children:"Update Category"})})]}),children:[e.jsxs(w,{children:[e.jsx("title",{children:"Create Post"}),e.jsx("meta",{"head-key":"name",name:"name",content:i.name??""})]}),e.jsx(k,{...r,children:e.jsx("form",{onSubmit:r.handleSubmit(C),children:e.jsxs("div",{className:"mx-auto grid max-w-[59rem] flex-1 auto-rows-max gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap md:flex-wrap lg:flex-nowrap",children:[e.jsxs(a,{variant:"outline",size:"icon",className:"h-7 w-7",children:[e.jsx(t,{href:route("admin.posts"),children:e.jsx(U,{className:"h-4 w-4"})}),e.jsx(t,{className:"sr-only",href:route("admin.posts"),children:e.jsx("span",{children:"Back"})})]}),e.jsxs("div",{className:"hidden items-center gap-2 md:ml-auto md:flex",children:[e.jsx(a,{variant:"outline",size:"sm",children:"Discard"}),e.jsx(a,{size:"sm",type:"submit",children:f?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"mr-2 h-4 w-4 animate-spin"})," ","Saving"]}):e.jsx(e.Fragment,{children:"Save"})})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-[1fr_250px] lg:grid-cols-3 lg:gap-8",children:e.jsx("div",{className:"grid auto-rows-max items-start gap-4 lg:col-span-2 lg:gap-8",children:e.jsxs(P,{"x-chunk":"dashboard-07-chunk-0",children:[e.jsx(D,{children:e.jsx(q,{children:"Update Category"})}),e.jsx(A,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"grid gap-3",children:e.jsx(h,{control:r.control,name:"name",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Name"}),e.jsx(p,{children:e.jsx(g,{placeholder:"Name",type:"text",className:"w-full",...s})}),e.jsx(u,{})]})})}),e.jsx("div",{className:"grid gap-3",children:e.jsx(h,{control:r.control,name:"slug",render:({field:s})=>e.jsxs(x,{children:[e.jsx(j,{children:"Slug"}),e.jsx(p,{children:e.jsx(g,{placeholder:"Slug",type:"text",className:"w-full",...s})}),e.jsx(u,{})]})})})]})})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 md:hidden",children:[e.jsx(a,{variant:"outline",size:"sm",children:"Discard"}),e.jsx(a,{type:"submit",size:"sm",children:"Save Category"})]})]})})})]})};export{se as default};
