import{r as S,j as e,S as w,x as t,A as y}from"./app-tLm7qpe1.js";import{A as B,B as d,a as m,b as l,c as L}from"./AuthenticatedLayout-B5RZwRh4.js";import{u as E,F as k,L as z,a as c,b as x,c as h,d as j,e as p,t as I}from"./form-DTB9TBYD.js";import{B as a}from"./index-BobDOfst.js";import{C as A,a as P,b as D,d as T}from"./card-n2o9xv5z.js";import{I as u}from"./input-Bh2s4eXL.js";import{C as q}from"./chevron-left-DIVOKLNf.js";import{o as U,s as g}from"./types-BrMfgacx.js";import"./Combination-pQLuAezX.js";import"./floating-ui.react-dom-SOIdTh7T.js";import"./index-CO324Um3.js";import"./index-DEKzZK78.js";import"./createLucideIcon-rGbcrS42.js";import"./dropdown-menu-DPhl47bm.js";import"./index-DeQC8O_x.js";import"./index-Bz7sor7O.js";import"./label-Bwq5dLay.js";const re=({category:i})=>{const[f,o]=S.useState(!1),b=U({name:g().min(1,"Name is required").max(10,"Name must be 100 characters or less"),slug:g().min(1,"Slug is required")}),r=E({mode:"onchange",resolver:I(b),defaultValues:{name:i.name??"",slug:i.slug??"draft"}}),N=s=>{o(!0)},v=s=>{o(!1)};function C(s){y.patch(route("admin.categories.update",i.id),s,{onStart:N,onFinish:v,onError:n=>{F(n)}})}const F=s=>{Object.keys(s).forEach(n=>{r.setError(n,{message:s[n]})})};return e.jsxs(B,{header:e.jsxs(e.Fragment,{children:[e.jsx(d,{children:e.jsx(m,{asChild:!0,children:e.jsx(t,{href:route("admin.dashboard"),children:"Dashboard"})})}),e.jsx(l,{}),e.jsx(d,{children:e.jsx(m,{asChild:!0,children:e.jsx(t,{href:route("admin.categories"),children:"Categories"})})}),e.jsx(l,{}),e.jsx(d,{children:e.jsx(L,{children:"Update Category"})})]}),children:[e.jsxs(w,{children:[e.jsx("title",{children:"Create Post"}),e.jsx("meta",{"head-key":"name",name:"name",content:i.name??""})]}),e.jsx(k,{...r,children:e.jsx("form",{onSubmit:r.handleSubmit(C),children:e.jsxs("div",{className:"mx-auto grid max-w-[59rem] flex-1 auto-rows-max gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-wrap md:flex-wrap lg:flex-nowrap",children:[e.jsxs(a,{variant:"outline",size:"icon",className:"h-7 w-7",children:[e.jsx(t,{href:route("admin.posts"),children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(t,{className:"sr-only",href:route("admin.posts"),children:e.jsx("span",{children:"Back"})})]}),e.jsxs("div",{className:"hidden items-center gap-2 md:ml-auto md:flex",children:[e.jsx(a,{variant:"outline",size:"sm",children:"Discard"}),e.jsx(a,{size:"sm",type:"submit",children:f?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"mr-2 h-4 w-4 animate-spin"})," ","Saving"]}):e.jsx(e.Fragment,{children:"Save"})})]})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-[1fr_250px] lg:grid-cols-3 lg:gap-8",children:e.jsx("div",{className:"grid auto-rows-max items-start gap-4 lg:col-span-2 lg:gap-8",children:e.jsxs(A,{"x-chunk":"dashboard-07-chunk-0",children:[e.jsx(P,{children:e.jsx(D,{children:"Update Category"})}),e.jsx(T,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"grid gap-3",children:e.jsx(c,{control:r.control,name:"name",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Name"}),e.jsx(j,{children:e.jsx(u,{placeholder:"Name",type:"text",className:"w-full",...s})}),e.jsx(p,{})]})})}),e.jsx("div",{className:"grid gap-3",children:e.jsx(c,{control:r.control,name:"slug",render:({field:s})=>e.jsxs(x,{children:[e.jsx(h,{children:"Slug"}),e.jsx(j,{children:e.jsx(u,{placeholder:"Slug",type:"text",className:"w-full",...s})}),e.jsx(p,{})]})})})]})})]})})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 md:hidden",children:[e.jsx(a,{variant:"outline",size:"sm",children:"Discard"}),e.jsx(a,{type:"submit",size:"sm",children:"Save Category"})]})]})})})]})};export{re as default};
