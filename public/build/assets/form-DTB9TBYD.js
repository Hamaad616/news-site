import{c as Nt}from"./createLucideIcon-rGbcrS42.js";import{b as V,r as q,j as ie}from"./app-tLm7qpe1.js";import{c as Ae,S as Tt}from"./index-BobDOfst.js";import{L as Ut}from"./label-Bwq5dLay.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Nt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var ge=e=>e.type==="checkbox",ne=e=>e instanceof Date,U=e=>e==null;const dt=e=>typeof e=="object";var M=e=>!U(e)&&!Array.isArray(e)&&dt(e)&&!ne(e),ft=e=>M(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,pt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,r)=>e.has(pt(r)),Pt=e=>{const r=e.constructor&&e.constructor.prototype;return M(r)&&r.hasOwnProperty("isPrototypeOf")},Ne=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ne&&(e instanceof Blob||i))&&(t||M(e)))if(r=t?[]:{},!t&&!Pt(e))r=e;else for(const n in e)e.hasOwnProperty(n)&&(r[n]=N(e[n]));else return e;return r}var we=e=>/^\w*$/.test(e),R=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Ue=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!M(e))return t;const i=(we(r)?[r]:Ue(r)).reduce((n,o)=>U(n)?n:n[o],e);return R(i)||i===e?R(e[r])?t:e[r]:i},W=e=>typeof e=="boolean",A=(e,r,t)=>{let i=-1;const n=we(r)?[r]:Ue(r),o=n.length,u=o-1;for(;++i<o;){const d=n[i];let m=t;if(i!==u){const E=e[d];m=M(E)||Array.isArray(E)?E:isNaN(+n[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=m,e=e[d]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pe=V.createContext(null);pe.displayName="HookFormContext";const De=()=>V.useContext(pe),Bt=e=>{const{children:r,...t}=e;return V.createElement(pe.Provider,{value:t},r)};var yt=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const u=o;return r._proxyFormState[u]!==K.all&&(r._proxyFormState[u]=!i||K.all),t&&(t[u]=!0),e[u]}});return n};const Pe=typeof window<"u"?q.useLayoutEffect:q.useEffect;function Wt(e){const r=De(),{control:t=r.control,disabled:i,name:n,exact:o}=e||{},[u,d]=V.useState(t._formState),m=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Pe(()=>t._subscribe({name:n,formState:m.current,exact:o,callback:E=>{!i&&d({...t._formState,...E})}}),[n,i,o]),V.useEffect(()=>{m.current.isValid&&t._setValid(!0)},[t]),V.useMemo(()=>yt(u,t,m.current,!1),[u,t])}var Q=e=>typeof e=="string",gt=(e,r,t,i,n)=>Q(e)?(i&&r.watch.add(e),y(t,e,n)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),y(t,o))):(i&&(r.watchAll=!0),t);function jt(e){const r=De(),{control:t=r.control,name:i,defaultValue:n,disabled:o,exact:u}=e||{},d=V.useRef(n),[m,E]=V.useState(t._getWatch(i,d.current));return Pe(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:F=>!o&&E(gt(i,t._names,F.values||t._formValues,!1,d.current))}),[i,t,o,u]),V.useEffect(()=>t._removeUnmounted()),m}function qt(e){const r=De(),{name:t,disabled:i,control:n=r.control,shouldUnregister:o}=e,u=ct(n._names.array,t),d=jt({control:n,name:t,defaultValue:y(n._formValues,t,y(n._defaultValues,t,e.defaultValue)),exact:!0}),m=Wt({control:n,name:t,exact:!0}),E=V.useRef(e),F=V.useRef(n.register(t,{...e.rules,value:d,...W(e.disabled)?{disabled:e.disabled}:{}})),S=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(m.validatingFields,t)},error:{enumerable:!0,get:()=>y(m.errors,t)}}),[m,t]),v=V.useCallback(C=>F.current.onChange({target:{value:ft(C),name:t},type:_e.CHANGE}),[t]),ee=V.useCallback(()=>F.current.onBlur({target:{value:y(n._formValues,t),name:t},type:_e.BLUR}),[t,n._formValues]),H=V.useCallback(C=>{const X=y(n._fields,t);X&&C&&(X._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:b=>C.setCustomValidity(b),reportValidity:()=>C.reportValidity()})},[n._fields,t]),k=V.useMemo(()=>({name:t,value:d,...W(i)||m.disabled?{disabled:m.disabled||i}:{},onChange:v,onBlur:ee,ref:H}),[t,i,m.disabled,v,ee,H,d]);return V.useEffect(()=>{const C=n._options.shouldUnregister||o;n.register(t,{...E.current.rules,...W(E.current.disabled)?{disabled:E.current.disabled}:{}});const X=(b,$)=>{const p=y(n._fields,b);p&&p._f&&(p._f.mount=$)};if(X(t,!0),C){const b=N(y(n._options.defaultValues,t));A(n._defaultValues,t,b),R(y(n._formValues,t))&&A(n._formValues,t,b)}return!u&&n.register(t),()=>{(u?C&&!n._state.action:C)?n.unregister(t):X(t,!1)}},[t,n,u,o]),V.useEffect(()=>{n._setDisabledField({disabled:i,name:t})},[i,t,n]),V.useMemo(()=>({field:k,formState:m,fieldState:S}),[k,m,S])}const Ht=e=>e.render(qt(e));var ht=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},ce=e=>Array.isArray(e)?e:[e],Xe=()=>{let e=[];return{get observers(){return e},next:n=>{for(const o of e)o.next&&o.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(o=>o!==n)}}),unsubscribe:()=>{e=[]}}},Oe=e=>U(e)||!dt(e);function se(e,r,t=new WeakSet){if(Oe(e)||Oe(r))return e===r;if(ne(e)&&ne(r))return e.getTime()===r.getTime();const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const o of i){const u=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const d=r[o];if(ne(u)&&ne(d)||M(u)&&M(d)||Array.isArray(u)&&Array.isArray(d)?!se(u,d,t):u!==d)return!1}}return!0}var B=e=>M(e)&&!Object.keys(e).length,Be=e=>e.type==="file",G=e=>typeof e=="function",Fe=e=>{if(!Ne)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},mt=e=>e.type==="select-multiple",We=e=>e.type==="radio",$t=e=>We(e)||ge(e),Ie=e=>Fe(e)&&e.isConnected;function zt(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=R(e)?i++:e[r[i++]];return e}function Kt(e){for(const r in e)if(e.hasOwnProperty(r)&&!R(e[r]))return!1;return!0}function I(e,r){const t=Array.isArray(r)?r:we(r)?[r]:Ue(r),i=t.length===1?e:zt(e,t),n=t.length-1,o=t[n];return i&&delete i[o],n!==0&&(M(i)&&B(i)||Array.isArray(i)&&Kt(i))&&I(e,t.slice(0,-1)),e}var vt=e=>{for(const r in e)if(G(e[r]))return!0;return!1};function Ve(e,r={}){const t=Array.isArray(e);if(M(e)||t)for(const i in e)Array.isArray(e[i])||M(e[i])&&!vt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ve(e[i],r[i])):U(e[i])||(r[i]=!0);return r}function bt(e,r,t){const i=Array.isArray(e);if(M(e)||i)for(const n in e)Array.isArray(e[n])||M(e[n])&&!vt(e[n])?R(r)||Oe(t[n])?t[n]=Array.isArray(e[n])?Ve(e[n],[]):{...Ve(e[n])}:bt(e[n],U(r)?{}:r[n],t[n]):t[n]=!se(e[n],r[n]);return t}var de=(e,r)=>bt(e,r,Ve(r));const Ze={value:!1,isValid:!1},et={value:!0,isValid:!0};var _t=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?et:{value:e[0].value,isValid:!0}:et:Ze}return Ze},Ft=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>R(e)?e:r?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):i?i(e):e;const tt={isValid:!1,value:null};var Vt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,tt):tt;function rt(e){const r=e.ref;return Be(r)?r.files:We(r)?Vt(e.refs).value:mt(r)?[...r.selectedOptions].map(({value:t})=>t):ge(r)?_t(e.refs).value:Ft(R(r.value)?e.ref.value:r.value,e)}var Gt=(e,r,t,i)=>{const n={};for(const o of e){const u=y(r,o);u&&A(n,o,u._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},xe=e=>e instanceof RegExp,fe=e=>R(e)?e:xe(e)?e.source:M(e)?xe(e.value)?e.value.source:e.value:e,st=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched});const it="AsyncFunction";var Yt=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===it||M(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===it)),Jt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),at=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const o=y(e,n);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],n)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(ye(d,r))break}else if(M(d)&&ye(d,r))break}}};function nt(e,r,t){const i=y(e,t);if(i||we(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),u=y(r,o),d=y(e,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};n.pop()}return{name:t}}var Qt=(e,r,t,i)=>{t(e);const{name:n,...o}=e;return B(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(u=>r[u]===(!i||K.all))},Xt=(e,r,t)=>!e||!r||e===r||ce(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Zt=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,er=(e,r)=>!Te(y(e,r)).length&&I(e,r),tr=(e,r,t)=>{const i=ce(y(e,t));return A(i,"root",r[t]),A(e,t,i),e},be=e=>Q(e);function ot(e,r,t="validate"){if(be(e)||Array.isArray(e)&&e.every(be)||W(e)&&!e)return{type:t,message:be(e)?e:"",ref:r}}var le=e=>M(e)&&!xe(e)?e:{value:e,message:""},lt=async(e,r,t,i,n,o)=>{const{ref:u,refs:d,required:m,maxLength:E,minLength:F,min:S,max:v,pattern:ee,validate:H,name:k,valueAsNumber:C,mount:X}=e._f,b=y(t,k);if(!X||r.has(k))return{};const $=d?d[0]:u,p=_=>{n&&$.reportValidity&&($.setCustomValidity(W(_)?"":_||""),$.reportValidity())},O={},he=We(u),te=ge(u),Se=he||te,z=(C||Be(u))&&R(u.value)&&R(b)||Fe(u)&&u.value===""||b===""||Array.isArray(b)&&!b.length,ae=ht.bind(null,k,i,O),Y=(_,w,L,T=Z.maxLength,P=Z.minLength)=>{const J=_?w:L;O[k]={type:_?T:P,message:J,ref:u,...ae(_?T:P,J)}};if(o?!Array.isArray(b)||!b.length:m&&(!Se&&(z||U(b))||W(b)&&!b||te&&!_t(d).isValid||he&&!Vt(d).isValid)){const{value:_,message:w}=be(m)?{value:!!m,message:m}:le(m);if(_&&(O[k]={type:Z.required,message:w,ref:$,...ae(Z.required,w)},!i))return p(w),O}if(!z&&(!U(S)||!U(v))){let _,w;const L=le(v),T=le(S);if(!U(b)&&!isNaN(b)){const P=u.valueAsNumber||b&&+b;U(L.value)||(_=P>L.value),U(T.value)||(w=P<T.value)}else{const P=u.valueAsDate||new Date(b),J=me=>new Date(new Date().toDateString()+" "+me),ue=u.type=="time",oe=u.type=="week";Q(L.value)&&b&&(_=ue?J(b)>J(L.value):oe?b>L.value:P>new Date(L.value)),Q(T.value)&&b&&(w=ue?J(b)<J(T.value):oe?b<T.value:P<new Date(T.value))}if((_||w)&&(Y(!!_,L.message,T.message,Z.max,Z.min),!i))return p(O[k].message),O}if((E||F)&&!z&&(Q(b)||o&&Array.isArray(b))){const _=le(E),w=le(F),L=!U(_.value)&&b.length>+_.value,T=!U(w.value)&&b.length<+w.value;if((L||T)&&(Y(L,_.message,w.message),!i))return p(O[k].message),O}if(ee&&!z&&Q(b)){const{value:_,message:w}=le(ee);if(xe(_)&&!b.match(_)&&(O[k]={type:Z.pattern,message:w,ref:u,...ae(Z.pattern,w)},!i))return p(w),O}if(H){if(G(H)){const _=await H(b,t),w=ot(_,$);if(w&&(O[k]={...w,...ae(Z.validate,w.message)},!i))return p(w.message),O}else if(M(H)){let _={};for(const w in H){if(!B(_)&&!i)break;const L=ot(await H[w](b,t),$,w);L&&(_={...L,...ae(w,L.message)},p(L.message),i&&(O[k]=_))}if(!B(_)&&(O[k]={ref:$,..._},!i))return O}}return p(!0),O};const rr={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function sr(e={}){let r={...rr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:G(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=M(r.defaultValues)||M(r.values)?N(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:N(n),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,E=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={...F};const v={array:Xe(),state:Xe()},ee=r.criteriaMode===K.all,H=s=>a=>{clearTimeout(E),E=setTimeout(s,a)},k=async s=>{if(!r.disabled&&(F.isValid||S.isValid||s)){const a=r.resolver?B((await te()).errors):await z(i,!0);a!==t.isValid&&v.state.next({isValid:a})}},C=(s,a)=>{!r.disabled&&(F.isValidating||F.validatingFields||S.isValidating||S.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?A(t.validatingFields,l,a):I(t.validatingFields,l))}),v.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},X=(s,a=[],l,g,c=!0,f=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,f&&Array.isArray(y(i,s))){const h=l(y(i,s),g.argA,g.argB);c&&A(i,s,h)}if(f&&Array.isArray(y(t.errors,s))){const h=l(y(t.errors,s),g.argA,g.argB);c&&A(t.errors,s,h),er(t.errors,s)}if((F.touchedFields||S.touchedFields)&&f&&Array.isArray(y(t.touchedFields,s))){const h=l(y(t.touchedFields,s),g.argA,g.argB);c&&A(t.touchedFields,s,h)}(F.dirtyFields||S.dirtyFields)&&(t.dirtyFields=de(n,o)),v.state.next({name:s,isDirty:Y(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else A(o,s,a)},b=(s,a)=>{A(t.errors,s,a),v.state.next({errors:t.errors})},$=s=>{t.errors=s,v.state.next({errors:t.errors,isValid:!1})},p=(s,a,l,g)=>{const c=y(i,s);if(c){const f=y(o,s,R(l)?y(n,s):l);R(f)||g&&g.defaultChecked||a?A(o,s,a?f:rt(c._f)):L(s,f),u.mount&&k()}},O=(s,a,l,g,c)=>{let f=!1,h=!1;const x={name:s};if(!r.disabled){if(!l||g){(F.isDirty||S.isDirty)&&(h=t.isDirty,t.isDirty=x.isDirty=Y(),f=h!==x.isDirty);const D=se(y(n,s),a);h=!!y(t.dirtyFields,s),D?I(t.dirtyFields,s):A(t.dirtyFields,s,!0),x.dirtyFields=t.dirtyFields,f=f||(F.dirtyFields||S.dirtyFields)&&h!==!D}if(l){const D=y(t.touchedFields,s);D||(A(t.touchedFields,s,l),x.touchedFields=t.touchedFields,f=f||(F.touchedFields||S.touchedFields)&&D!==l)}f&&c&&v.state.next(x)}return f?x:{}},he=(s,a,l,g)=>{const c=y(t.errors,s),f=(F.isValid||S.isValid)&&W(a)&&t.isValid!==a;if(r.delayError&&l?(m=H(()=>b(s,l)),m(r.delayError)):(clearTimeout(E),m=null,l?A(t.errors,s,l):I(t.errors,s)),(l?!se(c,l):c)||!B(g)||f){const h={...g,...f&&W(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...h},v.state.next(h)}},te=async s=>{C(s,!0);const a=await r.resolver(o,r.context,Gt(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return C(s),a},Se=async s=>{const{errors:a}=await te(s);if(s)for(const l of s){const g=y(a,l);g?A(t.errors,l,g):I(t.errors,l)}else t.errors=a;return a},z=async(s,a,l={valid:!0})=>{for(const g in s){const c=s[g];if(c){const{_f:f,...h}=c;if(f){const x=d.array.has(f.name),D=c._f&&Yt(c._f);D&&F.validatingFields&&C([g],!0);const j=await lt(c,d.disabled,o,ee,r.shouldUseNativeValidation&&!a,x);if(D&&F.validatingFields&&C([g]),j[f.name]&&(l.valid=!1,a))break;!a&&(y(j,f.name)?x?tr(t.errors,j,f.name):A(t.errors,f.name,j[f.name]):I(t.errors,f.name))}!B(h)&&await z(h,a,l)}}return l.valid},ae=()=>{for(const s of d.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Ie(l)):!Ie(a._f.ref))&&ke(s)}d.unMount=new Set},Y=(s,a)=>!r.disabled&&(s&&a&&A(o,s,a),!se(me(),n)),_=(s,a,l)=>gt(s,d,{...u.mount?o:R(a)?n:Q(s)?{[s]:a}:a},l,a),w=s=>Te(y(u.mount?o:n,s,r.shouldUnregister?y(n,s,[]):[])),L=(s,a,l={})=>{const g=y(i,s);let c=a;if(g){const f=g._f;f&&(!f.disabled&&A(o,s,Ft(a,f)),c=Fe(f.ref)&&U(a)?"":a,mt(f.ref)?[...f.ref.options].forEach(h=>h.selected=c.includes(h.value)):f.refs?ge(f.ref)?f.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(c)?h.checked=!!c.find(x=>x===h.value):h.checked=c===h.value||!!c)}):f.refs.forEach(h=>h.checked=h.value===c):Be(f.ref)?f.ref.value="":(f.ref.value=c,f.ref.type||v.state.next({name:s,values:N(o)})))}(l.shouldDirty||l.shouldTouch)&&O(s,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&oe(s)},T=(s,a,l)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const c=a[g],f=s+"."+g,h=y(i,f);(d.array.has(s)||M(c)||h&&!h._f)&&!ne(c)?T(f,c,l):L(f,c,l)}},P=(s,a,l={})=>{const g=y(i,s),c=d.array.has(s),f=N(a);A(o,s,f),c?(v.array.next({name:s,values:N(o)}),(F.isDirty||F.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&v.state.next({name:s,dirtyFields:de(n,o),isDirty:Y(s,f)})):g&&!g._f&&!U(f)?T(s,f,l):L(s,f,l),at(s,d)&&v.state.next({...t}),v.state.next({name:u.mount?s:void 0,values:N(o)})},J=async s=>{u.mount=!0;const a=s.target;let l=a.name,g=!0;const c=y(i,l),f=D=>{g=Number.isNaN(D)||ne(D)&&isNaN(D.getTime())||se(D,y(o,l,D))},h=st(r.mode),x=st(r.reValidateMode);if(c){let D,j;const ve=a.type?rt(c._f):ft(s),re=s.type===_e.BLUR||s.type===_e.FOCUS_OUT,Mt=!Jt(c._f)&&!r.resolver&&!y(t.errors,l)&&!c._f.deps||Zt(re,y(t.touchedFields,l),t.isSubmitted,x,h),Re=at(l,d,re);A(o,l,ve),re?(c._f.onBlur&&c._f.onBlur(s),m&&m(0)):c._f.onChange&&c._f.onChange(s);const Me=O(l,ve,re),It=!B(Me)||Re;if(!re&&v.state.next({name:l,type:s.type,values:N(o)}),Mt)return(F.isValid||S.isValid)&&(r.mode==="onBlur"?re&&k():re||k()),It&&v.state.next({name:l,...Re?{}:Me});if(!re&&Re&&v.state.next({...t}),r.resolver){const{errors:Je}=await te([l]);if(f(ve),g){const Ot=nt(t.errors,i,l),Qe=nt(Je,i,Ot.name||l);D=Qe.error,l=Qe.name,j=B(Je)}}else C([l],!0),D=(await lt(c,d.disabled,o,ee,r.shouldUseNativeValidation))[l],C([l]),f(ve),g&&(D?j=!1:(F.isValid||S.isValid)&&(j=await z(i,!0)));g&&(c._f.deps&&oe(c._f.deps),he(l,j,D,Me))}},ue=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},oe=async(s,a={})=>{let l,g;const c=ce(s);if(r.resolver){const f=await Se(R(s)?s:c);l=B(f),g=s?!c.some(h=>y(f,h)):l}else s?(g=(await Promise.all(c.map(async f=>{const h=y(i,f);return await z(h&&h._f?{[f]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&k()):g=l=await z(i);return v.state.next({...!Q(s)||(F.isValid||S.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&ye(i,ue,s?c:d.mount),g},me=s=>{const a={...u.mount?o:n};return R(s)?a:Q(s)?y(a,s):s.map(l=>y(a,l))},je=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Dt=s=>{s&&ce(s).forEach(a=>I(t.errors,a)),v.state.next({errors:s?t.errors:{}})},qe=(s,a,l)=>{const g=(y(i,s,{_f:{}})._f||{}).ref,c=y(t.errors,s)||{},{ref:f,message:h,type:x,...D}=c;A(t.errors,s,{...D,...a,ref:g}),v.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Et=(s,a)=>G(s)?v.state.subscribe({next:l=>s(_(void 0,a),l)}):_(s,a,!0),He=s=>v.state.subscribe({next:a=>{Xt(s.name,a.name,s.exact)&&Qt(a,s.formState||F,Rt,s.reRenderRoot)&&s.callback({values:{...o},...t,...a})}}).unsubscribe,St=s=>(u.mount=!0,S={...S,...s.formState},He({...s,formState:S})),ke=(s,a={})=>{for(const l of s?ce(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(I(i,l),I(o,l)),!a.keepError&&I(t.errors,l),!a.keepDirty&&I(t.dirtyFields,l),!a.keepTouched&&I(t.touchedFields,l),!a.keepIsValidating&&I(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&I(n,l);v.state.next({values:N(o)}),v.state.next({...t,...a.keepDirty?{isDirty:Y()}:{}}),!a.keepIsValid&&k()},$e=({disabled:s,name:a})=>{(W(s)&&u.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},Ce=(s,a={})=>{let l=y(i,s);const g=W(a.disabled)||W(r.disabled);return A(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?$e({disabled:W(a.disabled)?a.disabled:r.disabled,name:s}):p(s,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:fe(a.min),max:fe(a.max),minLength:fe(a.minLength),maxLength:fe(a.maxLength),pattern:fe(a.pattern)}:{},name:s,onChange:J,onBlur:J,ref:c=>{if(c){Ce(s,a),l=y(i,s);const f=R(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,h=$t(f),x=l._f.refs||[];if(h?x.find(D=>D===f):f===l._f.ref)return;A(i,s,{_f:{...l._f,...h?{refs:[...x.filter(Ie),f,...Array.isArray(y(n,s))?[{}]:[]],ref:{type:f.type,name:s}}:{ref:f}}}),p(s,!1,void 0,f)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(ct(d.array,s)&&u.action)&&d.unMount.add(s)}}},Le=()=>r.shouldFocusError&&ye(i,ue,d.mount),kt=s=>{W(s)&&(v.state.next({disabled:s}),ye(i,(a,l)=>{const g=y(i,l);g&&(a.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(c=>{c.disabled=g._f.disabled||s}))},0,!1))},ze=(s,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=N(o);if(v.state.next({isSubmitting:!0}),r.resolver){const{errors:f,values:h}=await te();t.errors=f,c=N(h)}else await z(i);if(d.disabled.size)for(const f of d.disabled)I(c,f);if(I(t.errors,"root"),B(t.errors)){v.state.next({errors:{}});try{await s(c,l)}catch(f){g=f}}else a&&await a({...t.errors},l),Le(),setTimeout(Le);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},Ct=(s,a={})=>{y(i,s)&&(R(a.defaultValue)?P(s,N(y(n,s))):(P(s,a.defaultValue),A(n,s,N(a.defaultValue))),a.keepTouched||I(t.touchedFields,s),a.keepDirty||(I(t.dirtyFields,s),t.isDirty=a.defaultValue?Y(s,N(y(n,s))):Y()),a.keepError||(I(t.errors,s),F.isValid&&k()),v.state.next({...t}))},Ke=(s,a={})=>{const l=s?N(s):n,g=N(l),c=B(s),f=c?n:g;if(a.keepDefaultValues||(n=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...d.mount,...Object.keys(de(n,o))]);for(const x of Array.from(h))y(t.dirtyFields,x)?A(f,x,y(o,x)):P(x,y(f,x))}else{if(Ne&&R(s))for(const h of d.mount){const x=y(i,h);if(x&&x._f){const D=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Fe(D)){const j=D.closest("form");if(j){j.reset();break}}}}if(a.keepFieldsRef)for(const h of d.mount)P(h,y(f,h));else i={}}o=r.shouldUnregister?a.keepDefaultValues?N(n):{}:N(f),v.array.next({values:{...f}}),v.state.next({values:{...f}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!F.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,v.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:c?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!se(s,n)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?{}:a.keepDirtyValues?a.keepDefaultValues&&o?de(n,o):t.dirtyFields:a.keepDefaultValues&&s?de(n,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ge=(s,a)=>Ke(G(s)?s(o):s,a),Lt=(s,a={})=>{const l=y(i,s),g=l&&l._f;if(g){const c=g.refs?g.refs[0]:g.ref;c.focus&&(c.focus(),a.shouldSelect&&G(c.select)&&c.select())}},Rt=s=>{t={...t,...s}},Ye={control:{register:Ce,unregister:ke,getFieldState:je,handleSubmit:ze,setError:qe,_subscribe:He,_runSchema:te,_focusError:Le,_getWatch:_,_getDirty:Y,_setValid:k,_setFieldArray:X,_setDisabledField:$e,_setErrors:$,_getFieldArray:w,_reset:Ke,_resetDefaultValues:()=>G(r.defaultValues)&&r.defaultValues().then(s=>{Ge(s,r.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:ae,_disableForm:kt,_subjects:v,_proxyFormState:F,get _fields(){return i},get _formValues(){return o},get _state(){return u},set _state(s){u=s},get _defaultValues(){return n},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:St,trigger:oe,register:Ce,handleSubmit:ze,watch:Et,setValue:P,getValues:me,reset:Ge,resetField:Ct,clearErrors:Dt,unregister:ke,setError:qe,setFocus:Lt,getFieldState:je};return{...Ye,formControl:Ye}}function br(e={}){const r=V.useRef(void 0),t=V.useRef(void 0),[i,n]=V.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!G(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=sr(e);r.current={...d,formState:i}}const o=r.current.control;return o._options=e,Pe(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>n({...o._formState}),reRenderRoot:!0});return n(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),V.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),V.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),V.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),V.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==i.isDirty&&o._subjects.state.next({isDirty:u})}},[o,i.isDirty]),V.useEffect(()=>{e.values&&!se(e.values,t.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),t.current=e.values,n(u=>({...u}))):o._resetDefaultValues()},[o,e.values]),V.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=yt(i,o),r.current}const ut=(e,r,t)=>{if(e&&"reportValidity"in e){const i=y(t,r);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},xt=(e,r)=>{for(const t in r.fields){const i=r.fields[t];i&&i.ref&&"reportValidity"in i.ref?ut(i.ref,t,e):i.refs&&i.refs.forEach(n=>ut(n,t,e))}},ir=(e,r)=>{r.shouldUseNativeValidation&&xt(e,r);const t={};for(const i in e){const n=y(r.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(ar(r.names||Object.keys(e),i)){const u=Object.assign({},y(t,i));A(u,"root",o),A(t,i,u)}else A(t,i,o)}return t},ar=(e,r)=>e.some(t=>t.startsWith(r+"."));var nr=function(e,r){for(var t={};e.length;){var i=e[0],n=i.code,o=i.message,u=i.path.join(".");if(!t[u])if("unionErrors"in i){var d=i.unionErrors[0].errors[0];t[u]={message:d.message,type:d.code}}else t[u]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach(function(F){return F.errors.forEach(function(S){return e.push(S)})}),r){var m=t[u].types,E=m&&m[i.code];t[u]=ht(u,r,t,n,E?[].concat(E,i.message):i.message)}e.shift()}return t},_r=function(e,r,t){return t===void 0&&(t={}),function(i,n,o){try{return Promise.resolve(function(u,d){try{var m=Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,r)).then(function(E){return o.shouldUseNativeValidation&&xt({},o),{errors:{},values:t.raw?i:E}})}catch(E){return d(E)}return m&&m.then?m.then(void 0,d):m}(0,function(u){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(u))return{values:{},errors:ir(nr(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}};const Fr=Bt,At=q.createContext({}),Vr=({...e})=>ie.jsx(At.Provider,{value:{name:e.name},children:ie.jsx(Ht,{...e})}),Ee=()=>{const e=q.useContext(At),r=q.useContext(wt),{getFieldState:t,formState:i}=De(),n=t(e.name,i);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=r;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},wt=q.createContext({}),or=q.forwardRef(({className:e,...r},t)=>{const i=q.useId();return ie.jsx(wt.Provider,{value:{id:i},children:ie.jsx("div",{ref:t,className:Ae("space-y-2",e),...r})})});or.displayName="FormItem";const lr=q.forwardRef(({className:e,...r},t)=>{const{error:i,formItemId:n}=Ee();return ie.jsx(Ut,{ref:t,className:Ae(i&&"text-destructive",e),htmlFor:n,...r})});lr.displayName="FormLabel";const ur=q.forwardRef(({...e},r)=>{const{error:t,formItemId:i,formDescriptionId:n,formMessageId:o}=Ee();return ie.jsx(Tt,{ref:r,id:i,"aria-describedby":t?`${n} ${o}`:`${n}`,"aria-invalid":!!t,...e})});ur.displayName="FormControl";const dr=q.forwardRef(({className:e,...r},t)=>{const{formDescriptionId:i}=Ee();return ie.jsx("p",{ref:t,id:i,className:Ae("text-[0.8rem] text-muted-foreground",e),...r})});dr.displayName="FormDescription";const fr=q.forwardRef(({className:e,children:r,...t},i)=>{const{error:n,formMessageId:o}=Ee(),u=n?String(n==null?void 0:n.message):r;return u?ie.jsx("p",{ref:i,id:o,className:Ae("text-[0.8rem] font-medium text-destructive",e),...t,children:u}):null});fr.displayName="FormMessage";export{Fr as F,vr as L,Vr as a,or as b,lr as c,ur as d,fr as e,dr as f,_r as t,br as u};
